<!DOCTYPE html>
<html>
  <head>
    <title>Votre Produit</title>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var productName = document.title; // Capture le nom du produit depuis la balise de titre

        // Remplacer 'VOTRE_CLE_API' par votre clé d'API OpenAI
        // var openAIKey = "sk-5mOaRExzB9YOM579YBw9T3BlbkFJ33fWZfMURx1cWZYJDlaDs";

        const myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append(
          "Authorization",
          "Bearer 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"
        );

        const raw = JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: [
            {
              role: "system",
              content:
                "Vous êtes un rédacteur web créatif, capable de rédiger des descriptions de produits captivantes basées uniquement sur leur nom.",
            },
            {
              role: "user",
              content:
                "Rédigez une description de produit pour Parfum Femme Cristalle Chanel EDP (100 ml).",
            },
          ],
        });

        fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: myHeaders,
          body: raw,
        })
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("product-description").innerHTML =
              data.choices[0].message.content;

            console.log(data.choices[0]);
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      });
    </script>
  </head>
  <body>
    <h1>Votre Produit</h1>
    <div id="product-description">Chargement de la description...</div>
  </body>
</html>
