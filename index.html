<!DOCTYPE html>
<html>
  <head>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        var baliseH1 = document.querySelector(".ecom-product__heading");

        var productName = baliseH1.textContent || baliseH1.innerText;
        await fetch(
          `http://localhost:5002/api/description/generate/?product=${productName}&btfmpnxsefhjbjbbhjbh=pnyxgpuhezfjhbjfeezhbfefhbhefhzbjfrhz${
            window.location.protocol + "//" + window.location.host
          }vxabkjgrmldnjbzahgefjvhjgklrj`
        )
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("product-description").innerHTML =
              data.description;
            console.log(data);
          })
          .catch((error) => {
            document.getElementById("product-description").innerHTML =
              "Erreur lors du Chargement de la description";
            console.log(error);
          });
      });
    </script>
  </head>
  <body>
    <div
      style="font-family: 'DM Sans', sans-serif; font-size: 16px"
      id="product-description"
    >
      Chargement de la description...
    </div>
  </body>
</html>
